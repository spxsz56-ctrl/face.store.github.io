<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Face.Store</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
/* ================== Tu CSS original (con ajustes mínimos añadidos) ================== */
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  background: radial-gradient(circle at top, #000000 30%, #111111 70%, #0a0a0a 100%);
  color: #fff;
  overflow-x: hidden;
  scroll-behavior: smooth;
  position: relative;
}

/* Canvas de partículas (detrás de todo) */
#fondoParticulasCanvas {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
}

/* header */
header {
  text-align: center;
  padding: 30px 0;
  background: linear-gradient(90deg, #000, #1a0000, #000);
  box-shadow: 0 0 25px #ff1a1a;
}
header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: 3.5em;
  color: #ff1a1a;
  letter-spacing: 3px;
  text-shadow: 0 0 10px #ff0000, 0 0 25px #ff4d4d, 0 0 40px #ff0000;
  animation: glow 2s infinite alternate, pulse 2.2s infinite ease-in-out;
}
@keyframes glow {
  from { text-shadow: 0 0 10px #ff0000, 0 0 20px #ff4d4d, 0 0 30px #ff0000; }
  to { text-shadow: 0 0 20px #ff4d4d, 0 0 40px #ff0000, 0 0 60px #ff1a1a; }
}
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

h2 {
  text-align: center;
  color: #ff4d4d;
  font-size: 2.2em;
  margin-top: 40px;
  letter-spacing: 1px;
  text-shadow: 0 0 10px #ff0000;
}

/* catálogo */
.catalogo {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 25px;
  padding: 40px;
  justify-items: center;
  position: relative;
  z-index: 1;
}
.modelo {
  background: #111;
  border-radius: 20px;
  overflow: hidden;
  text-align: center;
  transition: all 0.4s ease;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(255, 0, 0, 0.3);
}
.modelo:hover {
  transform: translateY(-8px) scale(1.03);
  box-shadow: 0 0 30px rgba(255, 0, 0, 0.7), 0 0 10px #00aaff;
}
.modelo img {
  width: 100%;
  height: 250px;
  object-fit: cover;
  background-color: #000;
}
.info {
  padding: 15px;
}
.precio {
  color: #ff4d4d;
  font-weight: bold;
}
.extra {
  color: #bbb;
  font-size: 0.9em;
  margin-top: 5px;
}

/* modal ajustado */
.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(4px);
}
.modal-content {
  background: #111;
  padding: 18px;
  border-radius: 15px;
  text-align: center;
  max-width: 360px;
  width: 92%;
  max-height: 88vh;
  overflow-y: auto;
  box-shadow: 0 0 30px #ff0000;
  transform: scale(0.98);
  transition: transform 0.18s ease;
}
.modal-content.show {
  transform: scale(1);
}
.modal-content img {
  width: 100%;
  max-height: 260px;
  object-fit: contain;
  border-radius: 12px;
  margin-bottom: 10px;
}
.close {
  color: #ff1a1a;
  float: right;
  font-size: 1.5em;
  cursor: pointer;
  transition: color 0.3s;
}
.close:hover { color: #ff4d4d; }

/* estrellas rating */
.estrellas {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}
.estrella { font-size: 1.8em; color: white; cursor: pointer; transition: color 0.2s; }
.estrella.seleccionada { color: red; }

/* opiniones */
.opiniones-section {
  text-align: center;
  padding: 40px;
  background: #0a0a0a;
  margin-top: 40px;
  border-top: 2px solid #ff1a1a;
  box-shadow: 0 -5px 25px rgba(255, 0, 0, 0.3);
  position: relative;
  z-index: 1;
}
.opiniones-section h3 {
  color: #ff1a1a;
  font-size: 2em;
  margin-bottom: 20px;
  text-shadow: 0 0 10px #ff0000;
}
.opiniones-section textarea {
  width: 80%;
  max-width: 500px;
  height: 100px;
  border-radius: 10px;
  padding: 10px;
  border: none;
  outline: none;
  resize: none;
  font-family: 'Poppins', sans-serif;
}
.opiniones-section button {
  background-color: #ff1a1a;
  border: none;
  color: white;
  font-weight: bold;
  padding: 10px 25px;
  border-radius: 8px;
  margin-top: 15px;
  cursor: pointer;
  transition: 0.3s;
}
.opiniones-section button:hover {
  background-color: #ff4d4d;
  box-shadow: 0 0 10px #ff0000;
}
#opinionesMostradas {
  margin-top: 30px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
  background: #111;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(255, 0, 0, 0.4);
}

/* modal gracias y dato */
#modalGracias {
  display: none;
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  justify-content: center; align-items: center; z-index: 10000;
}
#modalGracias div { background: #111; padding: 30px; border-radius: 15px; text-align: center; color: #fff; box-shadow: 0 0 20px #ff1a1a; }
#modalGracias button { margin-top: 15px; padding: 8px 20px; border: none; background: #ff1a1a; color: #fff; border-radius: 10px; cursor: pointer; transition: 0.3s; }
#modalGracias button:hover { background: #ff4d4d; }

.datos-curiosos { display:flex; justify-content:center; align-items:center; gap:15px; margin-top:30px; }
.estrella-azul { font-size:4em; color:#00aaff; cursor:pointer; text-shadow: 0 0 20px #00ffff, 0 0 40px #0088ff; transition: transform 0.3s; }
.estrella-azul:hover { transform: scale(1.2); color:#33ccff; }

#modalDato { display:none; position: fixed; z-index: 10001; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; }
#modalDato div { background:#111; padding:25px; border-radius:15px; text-align:center; max-width:450px; color:#fff; box-shadow:0 0 30px #00aaff; font-size:1.1em; }

/* Botones flotantes (WhatsApp + Instagram) */
.botones-flotantes {
  position: fixed;
  bottom: 25px;
  right: 25px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 10002;
}
.boton-flotante {
  width: 55px;
  height: 55px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.6em;
  text-decoration: none;
  box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
  transition: transform 0.3s, box-shadow 0.3s, opacity 0.3s;
  background: #222;
}
.boton-whatsapp { background-color: #25d366; box-shadow: 0 0 15px rgba(37,211,102,0.9); }
.boton-instagram { background: radial-gradient(circle at 30% 110%, #fdf497 0%, #fd5949 45%, #d6249f 60%, #285AEB 90%); box-shadow: 0 0 15px rgba(255,100,150,0.9); }
.boton-flotante:hover { transform: scale(1.15); box-shadow: 0 0 25px rgba(255, 0, 0, 0.8); }

/* Logo flotante (usando la ruta que indicaste: Nes.html) */
.logo-flotante {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 10003;
  animation: brilloLogo 3s ease-in-out infinite;
}
.logo-flotante img {
  width: 80px;
  height: auto;
  filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.6));
  transition: transform 0.3s ease, filter 0.3s ease;
}
.logo-flotante:hover img {
  transform: scale(1.1);
  filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.9));
}
@keyframes brilloLogo {
  0%,100% { filter: drop-shadow(0 0 10px rgba(255,0,0,0.6)); }
  50% { filter: drop-shadow(0 0 15px rgba(0,150,255,0.8)); }
}

/* fin CSS */
</style>
</head>
<body>

<!-- Canvas de partículas -->
<canvas id="fondoParticulasCanvas"></canvas>

<!-- Logo flotante (ruta EXACTA que me diste) -->
<div class="logo-flotante">
  <img src="yo.png" alt="La mejor calidad.">
</div>

<header><h1>FACE.STORE</h1></header>
<h2>TODO LO DISPONIBLE</h2>
<div class="catalogo" id="catalogo"></div>

<section class="opiniones-section">
  <h3>Tu Opinión Nos Importa</h3>
  <div class="estrellas" id="ratingStars">
    <span class="estrella">&#9733;</span>
    <span class="estrella">&#9733;</span>
    <span class="estrella">&#9733;</span>
    <span class="estrella">&#9733;</span>
    <span class="estrella">&#9733;</span>
  </div>
  <br>
  <input type="text" id="nombre" placeholder="Tu nombre (o deja vacío para anónimo)" style="padding:8px;border-radius:8px;border:none;outline:none;width:60%;max-width:300px;"><br><br>
  <textarea id="opinion" placeholder="Escribe tu opinión..."></textarea><br>
  <button id="enviarOpinion">Enviar</button>
  <div class="datos-curiosos">
    <span class="estrella-azul" id="estrellaAzul">&#9733;</span>
    <p>TOCA</p>
  </div>
  <div id="opinionesMostradas"></div>
</section>

<footer>
  <p>📞 <a href="https://wa.me/56993855553" target="_blank" class="whatsapp">Contactar por WhatsApp</a></p>
  <p>📸 <a href="https://instagram.com/noface.store47" target="_blank" class="instagram">Síguenos en Instagram</a></p>
</footer>

<!-- Botones flotantes -->
<div class="botones-flotantes">
  <a href="https://wa.me/56993855553" target="_blank" class="boton-flotante boton-whatsapp" title="Contactar por WhatsApp">💬</a>
  <a href="https://instagram.com/noface.store47" target="_blank" class="boton-flotante boton-instagram" title="Seguir en Instagram">📸</a>
</div>

<!-- Modales -->
<div class="modal" id="modal">
  <div class="modal-content" id="modalContent">
    <span class="close" id="cerrarModal">&times;</span>
    <img id="modalImg" src="" alt="">
    <h2 id="modalNombre"></h2>
    <p id="modalPrecio"></p>
    <p id="modalExtra"></p>
  </div>
</div>

<div id="modalGracias">
  <div>
    <p>Gracias por opinar en Face.Store</p>
    <button id="cerrarGracias">Aceptar</button>
  </div>
</div>

<div id="modalDato"><div id="contenidoDato"></div></div>

<script>
/* ------------------ MODELOS (tu lista original EXACTA) ------------------ */
const modelos = [
  { nombre: "Jordan I", imagen: "Jordan I.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan II", imagen: "Jordan II.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan III", imagen: "Jordan III.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan IV", imagen: "Jordan IV.jpg", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan V", imagen: "Jordan V.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan VI", imagen: "Jordan VI.jpeg", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan VII", imagen: "Jordan VII.jpg", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan VIII", imagen: "Jordan VIII.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan IX", imagen: "Jordan IX.avif", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan X", imagen: "Jordan X.avif", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan XI", imagen: "Jordan XI.jpg", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan XII", imagen: "Jordan XII.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan XIII", imagen: "Jordan XIII.jpg", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Jordan XIV", imagen: "Jordan XIV.webp", precio: "G5 65.000 | PK 80.000", extra: "Incluyen calcetines, llavero y accesorios de stock." },
  { nombre: "Air Force 1", imagen: "Force 1.jpg", precio: "G5 65.000 | PK 80.000" },
  { nombre: "Gucci 77", imagen: "Gucci 77.avif", precio: "PK 90.000" },
  { nombre: "Dior B22", imagen: "Dior B22.jpeg", precio: "PK 95.000" },
  { nombre: "LV Trainer", imagen: "Trainer.png", precio: "PK 100.000" },
  { nombre: "Bape STA ICON 1", imagen: "Bape.png", precio: "G5 65.000 | PK 80.000" },
  { nombre: "Air Max 96", imagen: "96.webp", precio: "G5 65.000 | PK 80.000" },
  { nombre: "Nike Up Tempo", imagen: "Up.webp", precio: "G5 65.000 | PK 80.000" },
  { nombre: "Nike Shox TL", imagen: "TL.webp", precio: "PK 75.000" },
  { nombre: "Amiri Stars Court High", imagen: "Amiri.webp", precio: "PK 120.000" },
  // Próximamente (no interactivos)
  { nombre: "Próximamente", imagen: "", precio: "", extra: "", proximo: true },
  { nombre: "Próximamente", imagen: "", precio: "", extra: "", proximo: true },
  { nombre: "Próximamente", imagen: "", precio: "", extra: "", proximo: true }
];

/* ------------------ Generar catálogo (idéntico) ------------------ */
const contenedor = document.getElementById('catalogo');
modelos.forEach(modelo => {
  const div = document.createElement('div');
  div.classList.add('modelo');

  if (modelo.proximo) {
    div.innerHTML = `
      <div style="height:250px; display:flex; align-items:center; justify-content:center; font-size:1.5em; color:#ff4d4d; background:#000;">?</div>
      <div class="info"><h3>${modelo.nombre}</h3></div>
    `;
  } else {
    div.innerHTML = `
      <img src="${modelo.imagen}" alt="${modelo.nombre}">
      <div class="info">
        <h3>${modelo.nombre}</h3>
        <p class="precio">${modelo.precio}</p>
        ${modelo.extra ? `<p class="extra">${modelo.extra}</p>` : ""}
      </div>
    `;
    div.addEventListener('click', () => abrirModal(modelo));
  }

  contenedor.appendChild(div);
});

/* ------------------ Modal (funcionalidad) ------------------ */
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const modalNombre = document.getElementById('modalNombre');
const modalPrecio = document.getElementById('modalPrecio');
const modalExtra = document.getElementById('modalExtra');
const cerrarModal = document.getElementById('cerrarModal');
const modalContent = document.getElementById('modalContent');

function abrirModal(modelo) {
  modal.style.display = 'flex';
  modalContent.classList.add('show');
  modalImg.src = modelo.imagen;
  modalNombre.textContent = modelo.nombre;
  modalPrecio.textContent = modelo.precio;
  modalExtra.textContent = modelo.extra || "";

  // Sonido: sólo para JORDAN
  if (modelo.nombre && modelo.nombre.toLowerCase().includes('jordan')) {
    playPop();
  }
}

cerrarModal?.addEventListener('click', () => {
  modal.style.display = 'none';
  modalContent.classList.remove('show');
});
window.addEventListener('click', e => { if (e.target === modal) { modal.style.display = 'none'; modalContent.classList.remove('show'); } });

/* ------------------ Estrellas opiniones ------------------ */
document.querySelectorAll('#ratingStars .estrella').forEach((estrella, i) => {
  estrella.addEventListener('click', () => {
    document.querySelectorAll('#ratingStars .estrella').forEach((s, j) => {
      s.classList.toggle('seleccionada', j <= i);
    });
  });
});

/* ------------------ Opiniones ------------------ */
const enviarOpinion = document.getElementById('enviarOpinion');
const opinionesMostradas = document.getElementById('opinionesMostradas');
const modalGracias = document.getElementById('modalGracias');
const cerrarGracias = document.getElementById('cerrarGracias');

enviarOpinion.addEventListener('click', () => {
  const nombre = document.getElementById('nombre').value || "Anónimo";
  const texto = document.getElementById('opinion').value.trim();
  if (texto === "") return alert("Por favor escribe una opinión.");

  const div = document.createElement('div');
  div.innerHTML = `<strong>${nombre}:</strong> <p>${texto}</p><hr>`;
  opinionesMostradas.prepend(div);

  document.getElementById('nombre').value = "";
  document.getElementById('opinion').value = "";
  modalGracias.style.display = "flex";

  // Sonido: campanita al enviar opinión
  playBell();
});

cerrarGracias.addEventListener('click', () => modalGracias.style.display = "none");

/* ------------------ Estrella azul - Datos curiosos ------------------ */
const estrellaAzul = document.getElementById('estrellaAzul');
const modalDato = document.getElementById('modalDato');
const contenidoDato = document.getElementById('contenidoDato');

const datosCuriosos = [
"Las Jordan I fueron prohibidas por la NBA por no respetar el código de color original.",
"Las Jordan IV son una de las más populares por su diseño robusto y detalles plásticos únicos.",
"Las Air Force 1 fueron las primeras zapatillas con la tecnología Nike Air en el talón.",
"Las Dior B22 combinan lujo y deporte, ideales con chaquetas bomber o jeans oscuros.",
"Las LV Trainer fueron diseñadas por Virgil Abloh, con inspiración en los años 80.",
"Las Gucci 77 reflejan el espíritu retro y combinan con pantalones rectos o shorts beige.",
"Las Bape STA son reconocidas por su estrella lateral y su estilo llamativo tipo streetwear.",
"Las Nike Shox TL ofrecen amortiguación extrema y combinan con joggers o shorts deportivos.",
"Las Air Max 96 destacan por su estilo vintage y combinan con jeans anchos o cortos.",
"Las Jordan XI tienen un acabado brillante de charol perfecto para outfits urbanos con clase.",
"Las Jordan III fueron las primeras en mostrar el logo Jumpman.",
"Las Jordan VI fueron usadas por Michael Jordan en su primer campeonato.",
"Las Amiri Stars Court High combinan con chaquetas de cuero y pantalones ajustados.",
"Las Jordan XII se inspiran en la bandera japonesa del Sol Naciente.",
"Las Air Force 1 en blanco son las más vendidas del mundo, y combinan con todo.",
"Las Jordan V incorporaron por primera vez un diseño inspirado en aviones de combate.",
"Las Nike Up Tempo son reconocidas por su enorme texto 'AIR' en los laterales.",
"Las Jordan IX fueron lanzadas mientras Jordan jugaba béisbol profesional.",
"Las LV Trainer tardan más de 7 horas en fabricarse manualmente.",
"Las Dior B22 se ven increíbles con pantalones cargo y una camiseta oversize.",
"Las Air Max 96 regresaron a la moda gracias al resurgimiento del estilo noventero.",
"Las Gucci 77 lucen perfectas con ropa en tonos tierra o pastel.",
"Las Jordan XIV fueron las últimas usadas por Jordan con los Bulls.",
"Las Bape STA combinan con pantalones sueltos y hoodies coloridos.",
"Las Jordan XIII se inspiraron en una pantera negra, por su agilidad y diseño.",
"Las Amiri Stars Court High usan cuero premium y detalles en estrella metálica.",
"Las Jordan X conmemoran los 10 logros de Jordan en su carrera hasta 1994.",
"Las Nike Shox TL regresaron en tendencia por su look futurista.",
"Las Air Force negras combinan mejor con jeans oscuros o joggers de cuero.",
"Las Jordan IV 'Bred' son uno de los lanzamientos más icónicos.",
"Las Dior B22 elevan cualquier look con pantalones slim y abrigos largos.",
"Las Gucci 77 fueron inspiradas en modelos vintage de los años 70.",
"Las LV Trainer se ven elegantes con outfits monocromáticos.",
"Las Jordan XI 'Space Jam' fueron inmortalizadas en la película del mismo nombre.",
"Las Jordan II fueron fabricadas en Italia, lo que las hizo únicas en su tiempo.",
"Las Air Max 96 se destacaron por su sistema de aire visible en toda la suela.",
"Las Jordan VIII fueron las primeras con correas cruzadas al frente.",
"Las Nike Up Tempo volvieron a la fama gracias a Scottie Pippen.",
"Las Jordan V ‘Fire Red’ son una de las más buscadas por coleccionistas.",
"Las Air Force 1 custom son tendencia entre artistas urbanos.",
"Las Jordan VII se destacaron por su paleta de colores inspirada en África.",
"Las Amiri Stars se ven perfectas con denim roto y chaquetas oversize.",
"Las Dior B22 combinan lujo y comodidad deportiva.",
"Las Gucci 77 complementan bien looks con camisas abiertas y gafas retro.",
"Las LV Trainer tienen suelas inspiradas en patines de skate.",
"Las Jordan IX representan la globalización del legado de Jordan.",
"Las Bape STA nacieron como una versión japonesa de las Air Force 1.",
"Las Nike Shox TL fueron muy populares en los 2000.",
"Las Jordan I marcaron el inicio de la cultura sneaker moderna.",
"Las Air Max 96 tienen detalles reflectantes ideales para la noche.",
"Las Jordan XIII ‘He Got Game’ fueron inmortalizadas en el cine.",
"Las LV Trainer reflejan el lujo urbano de Louis Vuitton.",
"Las Jordan XI ‘Concord’ son consideradas las más elegantes.",
"Las Gucci 77 son símbolo de la fusión entre lujo y sport.",
"Las Amiri Stars están hechas a mano en Italia.",
"Las Jordan XIV tienen inspiración de Ferrari en su diseño.",
"Las Bape STA son las favoritas de los amantes del streetstyle asiático.",
"Las Air Force 1 lucen impecables con pantalones cortos y hoodie blanco.",
"Las Dior B22 son el equilibrio perfecto entre moda y rendimiento."
];

let datosRestantes = [...datosCuriosos];
estrellaAzul.addEventListener('click', () => {
  if (datosRestantes.length === 0) datosRestantes = [...datosCuriosos];
  const indice = Math.floor(Math.random() * datosRestantes.length);
  const dato = datosRestantes.splice(indice, 1)[0];
  contenidoDato.textContent = dato;
  modalDato.style.display = "flex";

  // Sonido al abrir datos curiosos
  playSparkle();
});
modalDato.addEventListener('click', () => modalDato.style.display = "none");

/* ------------------ Sonidos WebAudio (no dependen de archivos) ------------------ */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioCtx();

function playTone(freq, duration=0.12, type='sine', gain=0.12) {
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = type;
  o.frequency.setValueAtTime(freq, audioCtx.currentTime);
  g.gain.setValueAtTime(gain, audioCtx.currentTime);
  o.connect(g);
  g.connect(audioCtx.destination);
  o.start();
  g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + duration);
  setTimeout(()=> o.stop(), duration*1000 + 20);
}
function playPop() {
  playTone(950, 0.06, 'triangle', 0.12);
  setTimeout(()=> playTone(1200, 0.09, 'sine', 0.08), 70);
}
function playSparkle() {
  playTone(1400, 0.06, 'sine', 0.07);
  setTimeout(()=> playTone(1700, 0.05, 'sine', 0.06), 60);
  setTimeout(()=> playTone(2100, 0.04, 'sine', 0.05), 110);
}
function playBell() {
  playTone(880, 0.18, 'sine', 0.12);
  setTimeout(()=> playTone(660, 0.22, 'sine', 0.09), 140);
}

/* ------------------ Partículas (canvas) rojas y azules ------------------ */
const canvas = document.getElementById('fondoParticulasCanvas');
const ctx = canvas.getContext('2d');
let particles = [];
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function rand(min, max) { return Math.random() * (max - min) + min; }
for (let i = 0; i < 110; i++) {
  particles.push({
    x: rand(0, canvas.width),
    y: rand(0, canvas.height),
    vx: rand(-0.25, 0.25),
    vy: rand(-0.25, 0.25),
    r: rand(0.8, 2.8),
    color: Math.random() > 0.5 ? '#ff2a2a' : '#00b3ff',
    alpha: rand(0.3, 0.9)
  });
}
function drawParticles() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p => {
    ctx.beginPath();
    ctx.globalAlpha = p.alpha;
    ctx.fillStyle = p.color;
    ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
    ctx.fill();
    p.x += p.vx;
    p.y += p.vy;
    if (p.x < -10) p.x = canvas.width + 10;
    if (p.x > canvas.width + 10) p.x = -10;
    if (p.y < -10) p.y = canvas.height + 10;
    if (p.y > canvas.height + 10) p.y = -10;
  });

  // líneas sutiles entre partículas cercanas
  for (let i=0;i<particles.length;i++){
    for (let j=i+1;j<particles.length;j++){
      const a = particles[i], b = particles[j];
      const dx = a.x - b.x, dy = a.y - b.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if (dist < 110) {
        ctx.globalAlpha = (1 - dist/110) * 0.12;
        ctx.strokeStyle = '#ffffff';
        ctx.lineWidth = 0.6;
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
    }
  }

  requestAnimationFrame(drawParticles);
}
drawParticles();

/* ------------------ FIN del script: todo lo demás se mantuvo igual ------------------ */
</script>

</body>
</html>
